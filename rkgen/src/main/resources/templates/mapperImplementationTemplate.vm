#set($import = "#import")
#set($dot_h = ".h")
#set($mapperMethodName = "map" + $mapperName)
#set($hasDate = false)
//
//	$fileName
//	Generated by RKGen
//
$import "$mapperName$dot_h"

@implementation $mapperName


+ (void) $mapperMethodName:(RKObjectManager *) objectManager :(NSString *)resourcePattern{
#foreach ($rkObject in $rkObjects)

	RKObjectMapping *$rkObject.mapperName = [RKObjectMapping mappingForClass:[$rkObject.className class]];

#foreach ($attribute in $rkObject.attributes.keySet())
#if ($rkObject.attributes.get($attribute) == "NSDate")
#set($hasDate = true)
#end
#if (!$rkObject.relationShipAttributes.containsKey($attribute))
	[$rkObject.mapperName mapKeyPath:@"$rkObject.attributeOriginalNames.get($attribute)" toAttribute:@"$attribute"];
#end
#end
#end

#foreach ($rkObject in $rkObjects)
#foreach ($attribute in $rkObject.attributes.keySet())
#if ($rkObject.relationShipAttributes.containsKey($attribute))
	[$rkObject.mapperName mapRelationship:@"$rkObject.attributeOriginalNames.get($attribute)" withMapping:$rkObject.relationShipAttributes.get($attribute)];
#end
#end
#if (!$foreach.hasNext)

	[objectManager.mappingProvider setObjectMapping:$rkObject.mapperName forResourcePathPattern:resourcePattern];
#end
#end
#if ($hasDate)
	[RKObjectMapping addDefaultDateFormatterForString:@"yyyy-MM-dThh:mm:ss" inTimeZone:nil];
#end


}
@end
